			mvs r3,0x2
			mvs r1,0x0 ;var aguardando
			mov r0,0x7 ;var int_ext_bs
			mov io (0x0),r0 ;var reg_ctrl_int
			mov r0,0x3 ;var hab_sd01
			mov io (0x9),r0 ;var reg_hab_sd
			mov r0,0x1 ;var off_sd1
			mov io (0xA),r0 ;var reg_sd
			mov r0,0xA ;var dc_lsb
			mov io (0x1C),r0 ;var reg_c0
			mov r0,0x0 ;var dc_msb
			mov io (0x1D),r0 ;var reg_c1
			mov r0,0x87 ;var hab_timer
			mov io (0x1E),r0 ;var reg_cont_st
			mvs r15,0x1 ;var hint
set_tempo:	mvs r0,0x2
			cmp r0,r3
			jz 0x19 ;label set_2
			mvs r0,0x3
			cmp r0,r3
			jz 0x1E ;label set_3
			mvs r0,0x4
			cmp r0,r3
			jz 0x23 ;label set_4
			mvs r3,0x2
set_2:	mov r0,0xC ;var tempo_high_2
			mov r4,r0
			mov r0,0xC ;var tempo_low_2
			mov r5,r0
			jmp 0x27 ;label liga_sd1
set_3:	mov r0,0x8 ;var tempo_high_3
			mov r4,r0
			mov r0,0x10 ;var tempo_low_3
			mov r5,r0
			jmp 0x27 ;label liga_sd1
set_4:	mov r0,0x6 ;var tempo_high_4
			mov r4,r0
			mov r0,0x12 ;var tempo_low_4
			mov r5,r0
liga_sd1:	mov r0,0x3 ;var on_sd1
			mov io (0xA),r0 ;var reg_sd
			mvs r2,0x0
int_check1:	mov r1,r1
			jz 0x2A ;label int_check1
			mvs r1,0x0 ;var aguardando
t_on_sd1:	inc r2
			mov r0,r4
			cmp r0,r2
			jnz 0x2A ;label int_check1
desliga_sd1:	mov r0,0x1 ;var off_sd1
			mov io (0xA),r0 ;var reg_sd
			mvs r2,0x0
int_check2:	mov r1,r1
			jz 0x34 ;label int_check2
			mvs r1,0x0 ;var aguardando
t_off_sd1:	inc r2
			mov r0,r5
			cmp r0,r2
			jnz 0x34 ;label int_check2
			mov r0,0x7 ;var int_ext_bs
			mov io (0x0),r0 ;var reg_ctrl_int
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			mov io r0,(0x0) ;var reg_ctrl_int
			cmp r0,0x1 ;var int_ext0
			jz 0x3C7 ;label ext_ok
			mov io r0,(0x0) ;var reg_ctrl_int
			cmp r0,0x8 ;var int_timer
			jz 0x3CA ;label timer_ok
			jmp 0x3C6 ;var $
ext_ok:	mvs r1,0x1 ;var interrompeu
			mov r0,0xB ;var off_int_ext
			rets
timer_ok:	mvs r1,0x1 ;var interrompeu
			mov r0,0x87 ;var hab_timer
			mov io (0x1E),r0 ;var reg_cont_st
			rets
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
